def coin_change_ways(coins, amount):
    """
    Подсчитывает количество способов составить сумму amount с использованием заданных монет.

    Используется динамическое программирование:
      dp[i] — количество способов получить сумму i.

    Аргументы:
      coins: Список номиналов монет.
      amount: Целевая сумма.

    Возвращает:
      Количество способов внести сдачу на сумму amount.
    """
    # Инициализируем массив dp длины amount+1, где dp[0] = 1 (единственный способ набрать 0 - ничего не брать)
    dp = [0] * (amount + 1)
    dp[0] = 1

    # Для каждой монеты обновляем массив dp: для каждой суммы от coin до amount
    for coin in coins:
        for i in range(coin, amount + 1):
            dp[i] += dp[i - coin]

    return dp[amount]


if __name__ == '__main__':
    coins = [2, 3, 5]
    amount = 21
    ways = coin_change_ways(coins, amount)
    print(f"Количество способов внести сдачу на сумму {amount} с использованием монет {coins}: {ways}")
